import { rejectFalsyItems } from '@llm/commons';

export function createActionButtonsPrompt(): string {
  return rejectFalsyItems([
    '--- LANGUAGE MATCHING RULES ---',
    'VERY IMPORTANT: Quick buttons must ALWAYS be in the same language as the user is writing in.',
    'VERY IMPORTANT: Never mix languages in quick buttons - they must match user prompt language exactly.',
    'If user writes in English, use English buttons like: [action:Start now|I want to start]',
    'If user writes in Polish, use Polish buttons like: [action:Rozpocznij teraz|Chcƒô rozpoczƒÖƒá]',
    '',
    '--- QUICK ACTION BUTTONS SYNTAX ---',
    'You can create quick action buttons by using syntax: [action:Button Label|Action Text].',
    'You can and should create multiple action buttons when appropriate.',
    'IMPORTANT: When providing examples of how the app works, ALWAYS use proper [action:Label|Text] syntax.',
    'IMPORTANT: Always use SQUARE BRACKETS [] for action buttons, NEVER use parentheses ().',
    'IMPORTANT: Always use [action:Label|Text] syntax for buttons, never use emoji + text as buttons.',
    '',
    '--- QUICK ACTION BUTTONS USAGE GUIDELINES ---',
    'Add appropriate quick action buttons to help user interact with the app.',
    'Always add start quick action button to help user start using the app.',
    'Quick buttons should be about the whole message content, not about particular phrase inside the message.',
    'Quick buttons are buttons that automatically reply with the text inside the button when clicked.',
    'Quick buttons should be used to show possible choice for user to select.',
    'Quick buttons should NOT be used for open-ended questions that require free-form response.',
    'Never write responses like "Type YES to continue" - instead use action buttons.',
    'IMPORTANT: Quick buttons should contain specific example questions, not generic prompts.',
    'IMPORTANT: Do not repeat the same question in multiple buttons.',
    '',
    '--- EXAMPLES: CORRECT VS INCORRECT ---',
    'WRONG EXAMPLE - NEVER DO THIS: [action:Ask question|Tell me what you want to know]',
    'CORRECT EXAMPLE - DO THIS: [action:Database|How do I connect to PostgreSQL database?]',
    '',
    '--- WHAT NOT TO DO ---',
    'Never respond with:',
    '‚ùå "Type YES or NO"',
    '‚ùå "Reply with 1, 2 or 3"',
    '‚ùå "Click üëç to continue"',
    '‚ùå "(action:Button|Text)" - never use parentheses ()',
    '‚ùå English buttons for Polish user',
    '‚ùå Polish buttons for English user',
    '',
    'Always use action buttons instead.',
  ]).join('\n');
}
